PESHAWAR, Pakistan (AP) — A suicide bomber struck a crowded mosque inside a police compound in Pakistan on Monday, causing the roof to collapse and killing at least 47 people and wounding more than 150 others, officials said.Most of the casualties were police officers. It was not clear how the bomber was able to slip into the walled compound, which houses the police headquarters in the northwestern city of Peshawar and is itself located in a high-security zone with other government buildings.Sarbakaf Mohmand, a commander for the Pakistani Taliban, claimed responsibility for the attack on Twitter. The main spokesman for the militant group was not immediately available for comment.Pakistan, which is mostly Sunni Muslim, has seen a surge in militant attacks since November, when the Pakistani Taliban ended their cease-fire with government forces. Monday’s assault on a Sunni mosque was one of the deadliest attacks on security forces in recent years.ADVERTISEMENTThe militant group, also known as Tehreek-e-Taliban Pakistan or TTP, is separate from but a close ally of the Afghan Taliban. The TTP has waged an insurgency in Pakistan in the past 15 years, seeking stricter enforcement of Islamic laws, the release of its members in government custody and a reduction in the Pakistani military presence in areas of Khyber Pakhtunkhwa province it has long used as its base.More than 300 worshippers were praying in the mosque, with more approaching, when the bomber set off his explosives vest. Many were injured when the roof came down, according to Zafar Khan, a police officer, and rescuers had to remove mounds of debris to reach worshippers still trapped under the rubble.Meena Gul, who was in the mosque when the bomb went off, said he doesn’t know how he survived unhurt. The 38-year-old police officer said he heard cries and screams after the blast.Police official Siddique Khan said the death toll had risen to at least 47, while more than 150 people were wounded. He said the bomber blew himself up while among the worshippers.A nearby hospital listed many of the wounded in critical condition, raising fears the death toll could rise. Senior police and government officials attended the funerals of 30 police officers and arrangements to bury the rest were being made. Coffins were wrapped in the Pakistani flag their bodies were later handed over to relatives for burials.Peshawar is the capital of Khyber Pakhtunkhwa province, where the Pakistani Taliban have a strong presence, and the city has been the scene of frequent militant attacks. ADVERTISEMENTThe Afghan Taliban seized power in neighboring Afghanistan in August 2021 as U.S. and NATO troops pulled out of the country after 20 years of war.The Pakistani government’s truce with the TTP ended as the country was still contending with unprecedented flooding that killed 1,739 people, destroyed more than 2 million homes, and at one point submerged as much as a third of the country. Mohmand, of the militant organization, said a fighter carried out the attack to avenge the killing of Abdul Wali, who was widely known as Omar Khalid Khurasani, and was killed in neighboring Afghanistan’s Paktika province in August 2022.Prime Minister Shahbaz Sharif condemned the bombing, vowed “stern action” against those behind it, and ordered authorities to give the best possible medical treatment for the victims. Sharif traveled to Peshawar and visited the wounded. His office said he would receive a briefing about the security situation in the northwest.Afghanistan’s Foreign Ministry said in a statement that it was “saddened to learn that numerous people lost their lives and many others were injured by an explosion at a mosque in Peshawar” and condemned attacks on worshippers as contrary to the teachings of Islam.Condemnations also came from the Saudi Embassy in Islamabad, as well as the U.S. Embassy, adding that “The United States stands with Pakistan in condemning all forms of terrorism.”Cash-strapped Pakistan faces a severe economic crisis and is seeking a crucial installment of $1.1 billion from the International Monetary Fund — part of its $6 billion bailout package — to avoid default. Talks with the IMF on reviving the bailout have stalled in the past months.Former Pakistani Prime Minister Imran Khan called the bombing a “terrorist suicide attack.” He tweeted: “My prayers & condolences go to victims families. It is imperative we improve our intelligence gathering & properly equip our police forces to combat the growing threat of terrorism.”Sharif’s government came to power in April after Khan was ousted in a no-confidence vote in Parliament. Khan has since campaigned for early elections, claiming his ouster was illegal and part of a plot backed by the United States. Washington and Sharif dismiss Khan’s claims. ___Associated Press writer Munir Ahmed in Islamabad contributed to this report.